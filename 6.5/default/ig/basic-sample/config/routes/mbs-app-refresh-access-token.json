{
  "name" : "testChannel",
  "baseURI" : "https://www.google.com",
  "condition" : "${matches(request.uri.path,'^/testChannel')}",
  "capture" : [ "response", "request" ],
  "heap" : [ {
    "name" : "ReverseProxyHandler",
    "type" : "ReverseProxyHandler",
    "config" : {
      "connectionTimeout" : "60 seconds",
      "soTimeout" : "unlimited"
    },
    "capture" : [ "response", "request" ]
  }, {
    "name" : "capture",
    "type" : "CaptureDecorator",
    "config" : {
      "captureEntity" : false,
      "captureContext" : false
    }
  }, {
    "name" : "ForgeRockClientHandler",
    "type" : "Chain",
    "config" : {
      "filters" : [ "TransactionIdOutboundFilter" ],
      "handler" : "ClientHandler"
    },
    "capture" : [ "response", "request" ]
  } ],
  "handler" : {
    "type" : "Chain",
    "config" : {
      "filters" : [ {
        "name" : "ChannelFilter",
        "type" : "org.forgerock.openig.bootcamp.filter.ChannelFilter",
        "config" : {
          "channelHeaderName" : "X-channel",
          "allowedChannels" : [ {
            "xChannel" : "WEB"
          }, {
            "xChannel" : "MOBILE"
          } ]
        }
      } ],
      "handler" : "ReverseProxyHandler"
    }
  }
}